if(!window.getComputedStyle){window.getComputedStyle=function(el,pseudo){this.el=el;this.getPropertyValue=function(prop){var re=/(\-([a-z]){1})/g;if(prop=='float')prop='styleFloat';if(re.test(prop)){prop=prop.replace(re,function(){return arguments[2].toUpperCase();});}
return el.currentStyle[prop]?el.currentStyle[prop]:null;}
return this;}}
jQuery(document).ready(function($){$('span.nav-icon').click(function(){$('#container').toggleClass('navactive');});$('#navigation .nav li a').click(function(){$('#container').removeClass('navactive');});var responsive_viewport=$(window).width();if(responsive_viewport<481){}
if(responsive_viewport>=768){$('.comment img[data-gravatar]').each(function(){$(this).attr('src',$(this).attr('data-gravatar'));});$(window).resize(function(){location.href=location.href;});if(Modernizr.touch){$("#content-wrapper").addClass("scrollContainer");var controller=new ScrollMagic({container:"#content-wrapper"});var tabletwindow=$("#content-wrapper");$(document).on("click","a[href^=#about]",function(e){e.preventDefault();setTimeout(function(){TweenMax.to(tabletwindow,2.5,{scrollTo:{y:999,autoKill:false}});},300);});$(document).on("click","a[href^=#types-of-repair]",function(e){e.preventDefault();setTimeout(function(){TweenMax.to(tabletwindow,2.5,{scrollTo:{y:2250,autoKill:false}});},300);});$(document).on("click","a[href^=#appliance-rework]",function(e){e.preventDefault();setTimeout(function(){TweenMax.to(tabletwindow,2.5,{scrollTo:{y:4200,autoKill:false}});},300);});$(document).on("click","a[href^=#product-evaluation]",function(e){e.preventDefault();setTimeout(function(){TweenMax.to(tabletwindow,2.5,{scrollTo:{y:5100,autoKill:false}});},300);});$(document).on("click","a[href^=#appliance-suppliers]",function(e){e.preventDefault();setTimeout(function(){TweenMax.to(tabletwindow,2.5,{scrollTo:{y:6700,autoKill:false}});},300);});$(document).on("click","a[href^=#maintenance-contracts]",function(e){e.preventDefault();setTimeout(function(){TweenMax.to(tabletwindow,2.5,{scrollTo:{y:8300,autoKill:false}});},300);});$(document).on("click","a[href^=#contact]",function(e){e.preventDefault();setTimeout(function(){TweenMax.to(tabletwindow,2.5,{scrollTo:{y:9200,autoKill:false}});},300);});}else{var controller=new ScrollMagic();$(document).on("click","a[href^=#about]",function(e){e.preventDefault();setTimeout(function(){TweenMax.to(window,2.5,{scrollTo:{y:999,autoKill:false}});},300);});$(document).on("click","a[href^=#types-of-repair]",function(e){e.preventDefault();setTimeout(function(){TweenMax.to(window,2.5,{scrollTo:{y:2250,autoKill:false}});},300);});$(document).on("click","a[href^=#appliance-rework]",function(e){e.preventDefault();setTimeout(function(){TweenMax.to(window,2.5,{scrollTo:{y:4200,autoKill:false}});},300);});$(document).on("click","a[href^=#product-evaluation]",function(e){e.preventDefault();setTimeout(function(){TweenMax.to(window,2.5,{scrollTo:{y:5100,autoKill:false}});},300);});$(document).on("click","a[href^=#appliance-suppliers]",function(e){e.preventDefault();setTimeout(function(){TweenMax.to(window,2.5,{scrollTo:{y:6700,autoKill:false}});},300);});$(document).on("click","a[href^=#maintenance-contracts]",function(e){e.preventDefault();setTimeout(function(){TweenMax.to(window,2.5,{scrollTo:{y:8300,autoKill:false}});},300);});$(document).on("click","a[href^=#contact]",function(e){e.preventDefault();setTimeout(function(){TweenMax.to(window,2.5,{scrollTo:{y:9200,autoKill:false}});},300);});}
var w=$(window).width();$("#pin-inner section.scroll-section").width(w);$("#pin-inner2 section.scroll-section").width(w);var pininner=w+w+6200;$("#pin-inner").width(pininner);$("#pin-inner2").width(pininner);var leftpin=w+6200;var leftpinpx='-'+leftpin+'px';new ScrollScene({triggerElement:"span.pin-trigger",duration:500,offset:-650}).addTo(controller).on("progress",function(e){var factcount=(Math.floor(Math.random()*14)+1);$("#about h4.fact-value").text(factcount);}).on("end",function(e){$("#about h4.fact-value").text("15");});new ScrollScene({triggerElement:"span.pin-trigger",duration:870,offset:1900}).addTo(controller).on("progress",function(e){var factcount2=(Math.floor(Math.random()*119)+1);$("#appliance-rework h4.fact-value").text(factcount2);}).on("end",function(e){$("#appliance-rework h4.fact-value").text("120");});new ScrollScene({triggerElement:"span.pin-trigger2",duration:500,offset:-650}).addTo(controller).on("progress",function(e){var factcount3=(Math.floor(Math.random()*29)+1);$("#product-evaluation h4.fact-value").text(factcount3);}).on("end",function(e){$("#product-evaluation h4.fact-value").text("30");});new ScrollScene({triggerElement:"span.pin-trigger2",duration:870,offset:650}).addTo(controller).on("progress",function(e){var factcount4=(Math.floor(Math.random()*2599)+1);$("#appliance-suppliers h4.fact-value").text(factcount4);}).on("end",function(e){$("#appliance-suppliers h4.fact-value").text("2600");});new ScrollScene({triggerElement:"span.pin-trigger2",duration:870,offset:2000}).addTo(controller).on("progress",function(e){var factcount5=(Math.floor(Math.random()*31200)+1);$("#maintenance-contracts h4.fact-value").text(factcount5);}).on("end",function(e){$("#maintenance-contracts h4.fact-value").html("31<span>,</span>200");});var moveleft=TweenMax.to("#pin-inner",1,{left:leftpinpx,ease:Sine.easeInOut});new ScrollScene({triggerElement:"span.pin-trigger",duration:3200}).addTo(controller).setPin("#pin-outer").setTween(moveleft);var moveleft2=TweenMax.to("#pin-inner2",1,{left:leftpinpx,ease:Sine.easeInOut});new ScrollScene({triggerElement:"span.pin-trigger2",duration:3200}).addTo(controller).setPin("#pin-outer2").setTween(moveleft2);var logomove=TweenMax.to("#logo-list",1,{left:"-2200px",ease:Linear.easeNone});new ScrollScene({triggerElement:"span.pin-trigger2",duration:2600,offset:300}).addTo(controller).setTween(logomove);var elements=$(".product-box p");new ScrollScene({triggerElement:"span.pin-trigger",duration:250,offset:1100}).addTo(controller).setTween(TweenMax.from(elements[0],1,{height:"0px",ease:Quad.easeOut}));new ScrollScene({triggerElement:"span.pin-trigger",duration:250,offset:1250}).addTo(controller).setTween(TweenMax.from(elements[1],1,{height:"0px",ease:Quad.easeOut}));new ScrollScene({triggerElement:"span.pin-trigger",duration:250,offset:1400}).addTo(controller).setTween(TweenMax.from(elements[2],1,{height:"0px",ease:Quad.easeOut}));new ScrollScene({triggerElement:"span.pin-trigger",duration:250,offset:1550}).addTo(controller).setTween(TweenMax.from(elements[3],1,{height:"0px",ease:Quad.easeOut}));new ScrollScene({triggerElement:"span.pin-trigger",duration:250,offset:1700}).addTo(controller).setTween(TweenMax.from(elements[4],1,{height:"0px",ease:Quad.easeOut}));new ScrollScene({triggerElement:"span.pin-trigger",duration:250,offset:1850}).addTo(controller).setTween(TweenMax.from(elements[5],1,{height:"0px",ease:Quad.easeOut}));var testimonials=$(".scroll-section .testimonial");new ScrollScene({triggerElement:"span.pin-trigger",offset:-100}).addTo(controller).setTween(TweenMax.from(testimonials[0],1,{autoAlpha:0,marginLeft:"80",ease:Expo.easeOut}));new ScrollScene({triggerElement:"span.pin-trigger",offset:3060}).addTo(controller).setTween(TweenMax.from(testimonials[1],1,{autoAlpha:0,marginLeft:"80",ease:Expo.easeInOut}));new ScrollScene({triggerElement:"span.pin-trigger2",offset:-100}).addTo(controller).setTween(TweenMax.from(testimonials[2],1,{autoAlpha:0,marginLeft:"80",ease:Expo.easeOut}));new ScrollScene({triggerElement:"span.pin-trigger2",offset:1550}).addTo(controller).setTween(TweenMax.from(testimonials[3],1,{autoAlpha:0,marginLeft:"80",ease:Expo.easeInOut}));new ScrollScene({triggerElement:"span.pin-trigger2",offset:3130}).addTo(controller).setTween(TweenMax.from(testimonials[4],1,{autoAlpha:0,marginLeft:"80",ease:Expo.easeInOut}));var fadeOptions={duration:500,offset:-550};var latefadeOptions={duration:700,offset:2600};var fadeinitial=$("div.bg1");var fade1=$("div.bg1-fade");var fade2=$("div.bg2");var fade3=$("div.bg2-fade");var fade4=$("div.bg3");var fade5=$("div.bg3-fade");setTimeout(function(){TweenMax.to(fadeinitial,2.2,{autoAlpha:1});},1900);new ScrollScene(fadeOptions).addTo(controller).triggerElement("span.pin-trigger").setTween(TweenMax.from(fade1,1,{autoAlpha:0}));new ScrollScene(latefadeOptions).addTo(controller).triggerElement("span.pin-trigger").setTween(TweenMax.from(fade2,1,{autoAlpha:0}));new ScrollScene(fadeOptions).addTo(controller).triggerElement("span.pin-trigger2").setTween(TweenMax.from(fade3,1,{autoAlpha:0}));new ScrollScene(latefadeOptions).addTo(controller).triggerElement("span.pin-trigger2").setTween(TweenMax.from(fade4,1,{autoAlpha:0}));new ScrollScene(fadeOptions).addTo(controller).triggerElement("#contact li#field_1_4").setTween(TweenMax.from(fade5,1,{autoAlpha:0}));}
if(responsive_viewport<=767){$(document).on("click","a[href^=#]",function(e){var
id=$(this).attr("href"),$elem=$(id);if($elem.length>0){e.preventDefault();setTimeout(function(){TweenMax.to(window,1.5,{scrollTo:{y:$elem.offset().top}});if(window.history&&window.history.pushState){history.pushState("",document.title,id);}},300);}});$(function(){$(window).on("resize",function(){var windowsize=$(this).width();if(windowsize>=768){location.href=location.href;}});});}});
/* A fix for the iOS orientationchange zoom bug.
 Script by @scottjehl, rebound by @wilto.
 MIT License.
*/
(function(w){if(!(/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1)){return;}
var doc=w.document;if(!doc.querySelector){return;}
var meta=doc.querySelector("meta[name=viewport]"),initialContent=meta&&meta.getAttribute("content"),disabledZoom=initialContent+",maximum-scale=1",enabledZoom=initialContent+",maximum-scale=10",enabled=true,x,y,z,aig;if(!meta){return;}
function restoreZoom(){meta.setAttribute("content",enabledZoom);enabled=true;}
function disableZoom(){meta.setAttribute("content",disabledZoom);enabled=false;}
function checkTilt(e){aig=e.accelerationIncludingGravity;x=Math.abs(aig.x);y=Math.abs(aig.y);z=Math.abs(aig.z);if(!w.orientation&&(x>7||((z>6&&y<8||z<8&&y>6)&&x>5))){if(enabled){disableZoom();}}
else if(!enabled){restoreZoom();}}
w.addEventListener("orientationchange",restoreZoom,false);w.addEventListener("devicemotion",checkTilt,false);})(this);;(function($){function toIntegersAtLease(n)
{return n<10?'0'+n:n;}
Date.prototype.toJSON=function(date)
{return this.getUTCFullYear()+'-'+
toIntegersAtLease(this.getUTCMonth())+'-'+
toIntegersAtLease(this.getUTCDate());};var escapeable=/["\\\x00-\x1f\x7f-\x9f]/g;var meta={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\'};$.quoteString=function(string)
{return'"'+string.replace(escapeable,function(a)
{var c=meta[a];if(typeof c==='string'){return c;}
c=a.charCodeAt();return'\\u00'+Math.floor(c/16).toString(16)+(c%16).toString(16);})+'"';return'"'+string+'"';};$.toJSON=function(o,compact)
{var type=typeof(o);if(type=="undefined")
return"undefined";else if(type=="number"||type=="boolean")
return o+"";else if(o===null)
return"null";if(type=="string")
{var str=$.quoteString(o);return str;}
if(type=="object"&&typeof o.toJSON=="function")
return o.toJSON(compact);if(type!="function"&&typeof(o.length)=="number")
{var ret=[];for(var i=0;i<o.length;i++){ret.push($.toJSON(o[i],compact));}
if(compact)
return"["+ret.join(",")+"]";else
return"["+ret.join(", ")+"]";}
if(type=="function"){throw new TypeError("Unable to convert object of type 'function' to json.");}
var ret=[];for(var k in o){var name;type=typeof(k);if(type=="number")
name='"'+k+'"';else if(type=="string")
name=$.quoteString(k);else
continue;var val=$.toJSON(o[k],compact);if(typeof(val)!="string"){continue;}
if(compact)
ret.push(name+":"+val);else
ret.push(name+": "+val);}
return"{"+ret.join(", ")+"}";};$.compactJSON=function(o)
{return $.toJSON(o,true);};$.evalJSON=function(src)
{return eval("("+src+")");};$.secureEvalJSON=function(src)
{var filtered=src;filtered=filtered.replace(/\\["\\\/bfnrtu]/g,'@');filtered=filtered.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,']');filtered=filtered.replace(/(?:^|:|,)(?:\s*\[)+/g,'');if(/^[\],:{}\s]*$/.test(filtered))
return eval("("+src+")");else
throw new SyntaxError("Error parsing JSON, source is not valid.");};})(jQuery);;(function(t){"use strict";function e(t,e,r){return t.addEventListener?t.addEventListener(e,r,!1):t.attachEvent?t.attachEvent("on"+e,r):void 0}function r(t,e){var r,n;for(r=0,n=t.length;n>r;r++)if(t[r]===e)return!0;return!1}function n(t,e){var r;t.createTextRange?(r=t.createTextRange(),r.move("character",e),r.select()):t.selectionStart&&(t.focus(),t.setSelectionRange(e,e))}function a(t,e){try{return t.type=e,!0}catch(r){return!1}}t.Placeholders={Utils:{addEventListener:e,inArray:r,moveCaret:n,changeType:a}}})(this),function(t){"use strict";function e(){}function r(t,e){var r,n,a=!!e&&t.value!==e,u=t.value===t.getAttribute(V);return(a||u)&&"true"===t.getAttribute(D)?(t.setAttribute(D,"false"),t.value=t.value.replace(t.getAttribute(V),""),t.className=t.className.replace(R,""),n=t.getAttribute(z),n&&(t.setAttribute("maxLength",n),t.removeAttribute(z)),r=t.getAttribute(I),r&&(t.type=r),!0):!1}function n(t){var e,r,n=t.getAttribute(V);return""===t.value&&n?(t.setAttribute(D,"true"),t.value=n,t.className+=" "+k,r=t.getAttribute(z),r||(t.setAttribute(z,t.maxLength),t.removeAttribute("maxLength")),e=t.getAttribute(I),e?t.type="text":"password"===t.type&&K.changeType(t,"text")&&t.setAttribute(I,"password"),!0):!1}function a(t,e){var r,n,a,u,i;if(t&&t.getAttribute(V))e(t);else for(r=t?t.getElementsByTagName("input"):p,n=t?t.getElementsByTagName("textarea"):h,i=0,u=r.length+n.length;u>i;i++)a=r.length>i?r[i]:n[i-r.length],e(a)}function u(t){a(t,r)}function i(t){a(t,n)}function l(t){return function(){b&&t.value===t.getAttribute(V)&&"true"===t.getAttribute(D)?K.moveCaret(t,0):r(t)}}function o(t){return function(){n(t)}}function c(t){return function(e){return m=t.value,"true"===t.getAttribute(D)&&m===t.getAttribute(V)&&K.inArray(C,e.keyCode)?(e.preventDefault&&e.preventDefault(),!1):void 0}}function s(t){return function(){r(t,m),""===t.value&&(t.blur(),K.moveCaret(t,0))}}function d(t){return function(){t===document.activeElement&&t.value===t.getAttribute(V)&&"true"===t.getAttribute(D)&&K.moveCaret(t,0)}}function g(t){return function(){u(t)}}function v(t){t.form&&(L=t.form,L.getAttribute(P)||(K.addEventListener(L,"submit",g(L)),L.setAttribute(P,"true"))),K.addEventListener(t,"focus",l(t)),K.addEventListener(t,"blur",o(t)),b&&(K.addEventListener(t,"keydown",c(t)),K.addEventListener(t,"keyup",s(t)),K.addEventListener(t,"click",d(t))),t.setAttribute(U,"true"),t.setAttribute(V,E),n(t)}var p,h,b,f,m,A,y,E,x,L,T,N,S,w=["text","search","url","tel","email","password","number","textarea"],C=[27,33,34,35,36,37,38,39,40,8,46],B="#ccc",k="placeholdersjs",R=RegExp("(?:^|\\s)"+k+"(?!\\S)"),V="data-placeholder-value",D="data-placeholder-active",I="data-placeholder-type",P="data-placeholder-submit",U="data-placeholder-bound",j="data-placeholder-focus",q="data-placeholder-live",z="data-placeholder-maxlength",F=document.createElement("input"),G=document.getElementsByTagName("head")[0],H=document.documentElement,J=t.Placeholders,K=J.Utils;if(J.nativeSupport=void 0!==F.placeholder,!J.nativeSupport){for(p=document.getElementsByTagName("input"),h=document.getElementsByTagName("textarea"),b="false"===H.getAttribute(j),f="false"!==H.getAttribute(q),A=document.createElement("style"),A.type="text/css",y=document.createTextNode("."+k+" { color:"+B+"; }"),A.styleSheet?A.styleSheet.cssText=y.nodeValue:A.appendChild(y),G.insertBefore(A,G.firstChild),S=0,N=p.length+h.length;N>S;S++)T=p.length>S?p[S]:h[S-p.length],E=T.attributes.placeholder,E&&(E=E.nodeValue,E&&K.inArray(w,T.type)&&v(T));x=setInterval(function(){for(S=0,N=p.length+h.length;N>S;S++)T=p.length>S?p[S]:h[S-p.length],E=T.attributes.placeholder,E&&(E=E.nodeValue,E&&K.inArray(w,T.type)&&(T.getAttribute(U)||v(T),(E!==T.getAttribute(V)||"password"===T.type&&!T.getAttribute(I))&&("password"===T.type&&!T.getAttribute(I)&&K.changeType(T,"text")&&T.setAttribute(I,"password"),T.value===T.getAttribute(V)&&(T.value=E),T.setAttribute(V,E))));f||clearInterval(x)},100)}J.disable=J.nativeSupport?e:u,J.enable=J.nativeSupport?e:i}(this);;if(typeof jQuery.fn.prop==='undefined'){jQuery.fn.prop=jQuery.fn.attr;}
jQuery(document).ready(function(){jQuery(document).bind('gform_post_render',gformBindFormatPricingFields);});function gformBindFormatPricingFields(){jQuery(".ginput_amount, .ginput_donation_amount").bind("change",function(){gformFormatPricingField(this);});jQuery(".ginput_amount, .ginput_donation_amount").each(function(){gformFormatPricingField(this);});}
function Currency(currency){this.currency=currency;this.toNumber=function(text){if(this.isNumeric(text))
return parseFloat(text);return gformCleanNumber(text,this.currency["symbol_right"],this.currency["symbol_left"],this.currency["decimal_separator"]);};this.toMoney=function(number){if(!this.isNumeric(number))
number=this.toNumber(number);if(number===false)
return"";number=number+"";negative="";if(number[0]=="-"){negative="-";number=parseFloat(number.substr(1));}
money=this.numberFormat(number,this.currency["decimals"],this.currency["decimal_separator"],this.currency["thousand_separator"]);var symbol_left=this.currency["symbol_left"]?this.currency["symbol_left"]+this.currency["symbol_padding"]:"";var symbol_right=this.currency["symbol_right"]?this.currency["symbol_padding"]+this.currency["symbol_right"]:"";money=negative+this.htmlDecode(symbol_left)+money+this.htmlDecode(symbol_right);return money;};this.numberFormat=function(number,decimals,dec_point,thousands_sep,padded){var padded=typeof padded=='undefined';number=(number+'').replace(',','').replace(' ','');var n=!isFinite(+number)?0:+number,prec=!isFinite(+decimals)?0:Math.abs(decimals),sep=(typeof thousands_sep==='undefined')?',':thousands_sep,dec=(typeof dec_point==='undefined')?'.':dec_point,s='',toFixedFix=function(n,prec){var k=Math.pow(10,prec);return''+Math.round(n*k)/k;};if(decimals=='0'){s=(''+Math.round(n)).split('.');}else
if(decimals==-1){s=(''+n).split('.');}else{s=toFixedFix(n,prec).split('.');}
if(s[0].length>3){s[0]=s[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,sep);}
if(padded){if((s[1]||'').length<prec){s[1]=s[1]||'';s[1]+=new Array(prec-s[1].length+1).join('0');}}
return s.join(dec);}
this.isNumeric=function(number){return gformIsNumber(number);};this.htmlDecode=function(text){var c,m,d=text;var arr=d.match(/&#[0-9]{1,5};/g);if(arr!=null){for(var x=0;x<arr.length;x++){m=arr[x];c=m.substring(2,m.length-1);if(c>=-32768&&c<=65535){d=d.replace(m,String.fromCharCode(c));}else{d=d.replace(m,"");}}}
return d;};}
function gformCleanNumber(text,symbol_right,symbol_left,decimal_separator){text=text+" ";text=text.replace(/&.*?;/,"",text);text=text.replace(symbol_right,"");text=text.replace(symbol_left,"");var clean_number="";var is_negative=false;for(var i=0;i<text.length;i++){var digit=text.substr(i,1);if((parseInt(digit)>=0&&parseInt(digit)<=9)||digit==decimal_separator)
clean_number+=digit;else if(digit=='-')
is_negative=true;}
var float_number="";for(var i=0;i<clean_number.length;i++)
{var char=clean_number.substr(i,1);if(char>='0'&&char<='9')
float_number+=char;else if(char==decimal_separator){float_number+=".";}}
if(is_negative)
float_number="-"+float_number;return gformIsNumber(float_number)?parseFloat(float_number):false;}
function gformGetDecimalSeparator(numberFormat){var s;switch(numberFormat){case'currency':var currency=new Currency(gf_global.gf_currency_config);s=currency.currency["decimal_separator"];break;case'decimal_comma':s=',';break;default:s="."}
return s;}
function gformIsNumber(n){return!isNaN(parseFloat(n))&&isFinite(n);}
function gformIsNumeric(value,number_format){switch(number_format){case"decimal_dot":var r=new RegExp("^(-?[0-9]{1,3}(?:,?[0-9]{3})*(?:\.[0-9]+)?)$");return r.test(value);break;case"decimal_comma":var r=new RegExp("^(-?[0-9]{1,3}(?:\.?[0-9]{3})*(?:,[0-9]+)?)$");return r.test(value);break;}
return false;}
function gformDeleteUploadedFile(formId,fieldId,deleteButton){var parent=jQuery("#field_"+formId+"_"+fieldId);var fileIndex=jQuery(deleteButton).parent().index();parent.find(".ginput_preview").eq(fileIndex).remove();parent.find("input[type=\"file\"]").removeClass("gform_hidden");parent.find(".ginput_post_image_file").show();parent.find("input[type=\"text\"]").val('');var files=jQuery.secureEvalJSON(jQuery('#gform_uploaded_files_'+formId).val());if(files){var inputName="input_"+fieldId;var $multfile=parent.find("#gform_multifile_upload_"+formId+"_"+fieldId);if($multfile.length>0){files[inputName].splice(fileIndex,1);var settings=$multfile.data('settings');var max=settings.gf_vars.max_files;jQuery("#"+settings.gf_vars.message_id).html('');if(files[inputName].length<max)
gfMultiFileUploader.toggleDisabled(settings,false);}else{files[inputName]=null;}
jQuery('#gform_uploaded_files_'+formId).val(jQuery.toJSON(files));}}
var _gformPriceFields=new Array();var _anyProductSelected;function gformIsHidden(element){return element.parents('.gfield').not(".gfield_hidden_product").css("display")=="none";}
function gformCalculateTotalPrice(formId){if(!_gformPriceFields[formId])
return;var price=0;_anyProductSelected=false;for(var i=0;i<_gformPriceFields[formId].length;i++){price+=gformCalculateProductPrice(formId,_gformPriceFields[formId][i]);}
if(_anyProductSelected){var shipping=gformGetShippingPrice(formId)
price+=shipping;}
if(window["gform_product_total"])
price=window["gform_product_total"](formId,price);price=gform.applyFilters('gform_product_total',price,formId);var totalElement=jQuery(".ginput_total_"+formId);if(totalElement.length>0){totalElement.next().val(price);totalElement.html(gformFormatMoney(price));}}
function gformGetShippingPrice(formId){var shippingField=jQuery(".gfield_shipping_"+formId+" input[type=\"hidden\"], .gfield_shipping_"+formId+" select, .gfield_shipping_"+formId+" input:checked");var shipping=0;if(shippingField.length==1&&!gformIsHidden(shippingField)){if(shippingField.attr("type")&&shippingField.attr("type").toLowerCase()=="hidden")
shipping=shippingField.val();else
shipping=gformGetPrice(shippingField.val());}
return gformToNumber(shipping);}
function gformGetFieldId(element){var id=jQuery(element).attr("id");var pieces=id.split("_");if(pieces.length<=0)
return 0;var fieldId=pieces[pieces.length-1];return fieldId;}
function gformCalculateProductPrice(form_id,productFieldId){var price=gformGetBasePrice(form_id,productFieldId);var suffix="_"+form_id+"_"+productFieldId;jQuery(".gfield_option"+suffix+", .gfield_shipping_"+form_id).find("select").each(function(){var dropdown_field=jQuery(this);var selected_price=gformGetPrice(dropdown_field.val());var field_id=dropdown_field.attr("id").split("_")[2];dropdown_field.children("option").each(function(){var choice_element=jQuery(this);var label=gformGetOptionLabel(choice_element,choice_element.val(),selected_price,form_id,field_id);choice_element.html(label);});});jQuery(".gfield_option"+suffix).find(".gfield_checkbox").find("input").each(function(){var checkbox_item=jQuery(this);var id=checkbox_item.attr("id");var field_id=id.split("_")[2];var label_id=id.replace("choice_","#label_");var label_element=jQuery(label_id);var label=gformGetOptionLabel(label_element,checkbox_item.val(),0,form_id,field_id);label_element.html(label);});jQuery(".gfield_option"+suffix+", .gfield_shipping_"+form_id).find(".gfield_radio").each(function(){var selected_price=0;var radio_field=jQuery(this);var id=radio_field.attr("id");var fieldId=id.split("_")[2];var selected_value=radio_field.find("input:checked").val();if(selected_value)
selected_price=gformGetPrice(selected_value);jQuery(this).find("input").each(function(){var radio_item=jQuery(this);var label_id=radio_item.attr("id").replace("choice_","#label_");var label_element=jQuery(label_id);var label=gformGetOptionLabel(label_element,radio_item.val(),selected_price,form_id,fieldId);label_element.html(label);});});jQuery(".gfield_option"+suffix).find("input:checked, select").each(function(){if(!gformIsHidden(jQuery(this)))
price+=gformGetPrice(jQuery(this).val());});var quantity=gformGetProductQuantity(form_id,productFieldId);if(quantity>0)
_anyProductSelected=true;price=price*quantity;price=Math.round(price*100)/100;return price;}
function gformGetProductQuantity(formId,productFieldId){var quantity,quantityInput=jQuery('#ginput_quantity_'+formId+'_'+productFieldId);if(quantityInput.length>0){quantity=!gformIsNumber(quantityInput.val())?0:quantityInput.val();}else{quantityElement=jQuery('.gfield_quantity_'+formId+'_'+productFieldId);quantity=1;if(quantityElement.find('select').length>0){quantity=quantityElement.find('select').val();}else if(quantityElement.find('input').length>0){quantity=quantityElement.find('input').val();}
if(!gformIsNumber(quantity))
quantity=0;}
quantity=parseFloat(quantity);return quantity;}
function gformGetBasePrice(formId,productFieldId){var suffix="_"+formId+"_"+productFieldId;var price=0;var productField=jQuery("#ginput_base_price"+suffix+", .gfield_donation"+suffix+" input[type=\"text\"], .gfield_product"+suffix+" .ginput_amount");if(productField.length>0){price=productField.val();if(gformIsHidden(productField)){price=0;}}
else
{productField=jQuery(".gfield_product"+suffix+" select, .gfield_product"+suffix+" input:checked, .gfield_donation"+suffix+" select, .gfield_donation"+suffix+" input:checked");var val=productField.val();if(val){val=val.split("|");price=val.length>1?val[1]:0;}
if(gformIsHidden(productField))
price=0;}
var c=new Currency(gf_global.gf_currency_config);price=c.toNumber(price);return price===false?0:price;}
function gformFormatMoney(text){if(!gf_global.gf_currency_config)
return text;var currency=new Currency(gf_global.gf_currency_config);return currency.toMoney(text);}
function gformFormatPricingField(element){if(gf_global.gf_currency_config){var currency=new Currency(gf_global.gf_currency_config);var price=currency.toMoney(jQuery(element).val());jQuery(element).val(price);}}
function gformToNumber(text){var currency=new Currency(gf_global.gf_currency_config);return currency.toNumber(text);}
function gformGetPriceDifference(currentPrice,newPrice){var diff=parseFloat(newPrice)-parseFloat(currentPrice);price=gformFormatMoney(diff);if(diff>0)
price="+"+price;return price;}
function gformGetOptionLabel(element,selected_value,current_price,form_id,field_id){element=jQuery(element);var price=gformGetPrice(selected_value);var current_diff=element.attr('price');var original_label=element.html().replace(/<span(.*)<\/span>/i,"").replace(current_diff,"");var diff=gformGetPriceDifference(current_price,price);diff=gformToNumber(diff)==0?"":" "+diff;element.attr('price',diff);var price_label=element[0].tagName.toLowerCase()=="option"?" "+diff:"<span class='ginput_price'>"+diff+"</span>";var label=original_label+price_label;if(window["gform_format_option_label"])
label=gform_format_option_label(label,original_label,price_label,current_price,price,form_id,field_id);return label;}
function gformGetProductIds(parent_class,element){var classes=jQuery(element).hasClass(parent_class)?jQuery(element).attr("class").split(" "):jQuery(element).parents("."+parent_class).attr("class").split(" ");for(var i=0;i<classes.length;i++){if(classes[i].substr(0,parent_class.length)==parent_class&&classes[i]!=parent_class)
return{formId:classes[i].split("_")[2],productFieldId:classes[i].split("_")[3]};}
return{formId:0,fieldId:0};}
function gformGetPrice(text){var val=text.split("|");var currency=new Currency(gf_global.gf_currency_config);if(val.length>1&&currency.toNumber(val[1])!==false)
return currency.toNumber(val[1]);return 0;}
function gformRegisterPriceField(item){if(!_gformPriceFields[item.formId])
_gformPriceFields[item.formId]=new Array();for(var i=0;i<_gformPriceFields[item.formId].length;i++)
if(_gformPriceFields[item.formId][i]==item.productFieldId)
return;_gformPriceFields[item.formId].push(item.productFieldId);}
function gformInitPriceFields(){jQuery(".gfield_price").each(function(){var productIds=gformGetProductIds("gfield_price",this);gformRegisterPriceField(productIds);jQuery(this).find("input[type=\"text\"], input[type=\"number\"], select").change(function(){var productIds=gformGetProductIds("gfield_price",this);if(productIds.formId==0)
productIds=gformGetProductIds("gfield_shipping",this);jQuery(document).trigger('gform_price_change',[productIds,this]);gformCalculateTotalPrice(productIds.formId);});jQuery(this).find("input[type=\"radio\"], input[type=\"checkbox\"]").click(function(){var productIds=gformGetProductIds("gfield_price",this);if(productIds.formId==0)
productIds=gformGetProductIds("gfield_shipping",this);jQuery(document).trigger('gform_price_change',[productIds,this]);gformCalculateTotalPrice(productIds.formId);});});for(formId in _gformPriceFields){if(!_gformPriceFields.hasOwnProperty(formId))
continue;gformCalculateTotalPrice(formId);}}
function gformShowPasswordStrength(fieldId){var password=jQuery("#"+fieldId).val();var confirm=jQuery("#"+fieldId+"_2").val();var result=gformPasswordStrength(password,confirm);var text=window['gf_text']["password_"+result];jQuery("#"+fieldId+"_strength").val(result);jQuery("#"+fieldId+"_strength_indicator").removeClass("blank mismatch short good bad strong").addClass(result).html(text);}
function gformPasswordStrength(password1,password2){var shortPass=1,badPass=2,goodPass=3,strongPass=4,mismatch=5,symbolSize=0,natLog,score;if(password1.length<=0)
return"blank";if((password1!=password2)&&password2.length>0)
return"mismatch";if(password1.length<4)
return"short";if(password1.match(/[0-9]/))
symbolSize+=10;if(password1.match(/[a-z]/))
symbolSize+=26;if(password1.match(/[A-Z]/))
symbolSize+=26;if(password1.match(/[^a-zA-Z0-9]/))
symbolSize+=31;natLog=Math.log(Math.pow(symbolSize,password1.length));score=natLog/Math.LN2;if(score<40)
return"bad";if(score<56)
return"good";return"strong";}
var gfield_original_title="";function gformAddListItem(element,max){if(jQuery(element).hasClass("gfield_icon_disabled"))
return;var tr=jQuery(element).parent().parent();var clone=tr.clone();clone.find("input, select").val("").attr("tabindex",clone.find('input:last').attr("tabindex"));tr.after(clone);gformToggleIcons(tr.parent(),max);gformAdjustClasses(tr.parent());}
function gformDeleteListItem(element,max){var tr=jQuery(element).parent().parent();var parent=tr.parent();tr.remove();gformToggleIcons(parent,max);gformAdjustClasses(parent);}
function gformAdjustClasses(table){var rows=table.children();for(var i=0;i<rows.length;i++){var odd_even_class=(i+1)%2==0?"gfield_list_row_even":"gfield_list_row_odd";jQuery(rows[i]).removeClass("gfield_list_row_odd").removeClass("gfield_list_row_even").addClass(odd_even_class);}}
function gformToggleIcons(table,max){var rowCount=table.children().length;if(rowCount==1){table.find(".delete_list_item").css("visibility","hidden");}
else{table.find(".delete_list_item").css("visibility","visible");}
if(max>0&&rowCount>=max){gfield_original_title=table.find(".add_list_item:first").attr("title");table.find(".add_list_item").addClass("gfield_icon_disabled").attr("title","");}
else{var addIcons=table.find(".add_list_item");addIcons.removeClass("gfield_icon_disabled");if(gfield_original_title)
addIcons.attr("title",gfield_original_title);}}
function gformMatchCard(id){var cardType=gformFindCardType(jQuery('#'+id).val());var cardContainer=jQuery('#'+id).parents('.gfield').find('.gform_card_icon_container');if(!cardType){jQuery(cardContainer).find('.gform_card_icon').removeClass('gform_card_icon_selected gform_card_icon_inactive');}else{jQuery(cardContainer).find('.gform_card_icon').removeClass('gform_card_icon_selected').addClass('gform_card_icon_inactive');jQuery(cardContainer).find('.gform_card_icon_'+cardType).removeClass('gform_card_icon_inactive').addClass('gform_card_icon_selected');}}
function gformFindCardType(value){if(value.length<4)
return false;var rules=window['gf_cc_rules'];var validCardTypes=new Array();for(type in rules){if(!rules.hasOwnProperty(type))
continue;for(i in rules[type]){if(!rules[type].hasOwnProperty(i))
continue;if(rules[type][i].indexOf(value.substring(0,rules[type][i].length))===0){validCardTypes[validCardTypes.length]=type;break;}}}
return validCardTypes.length==1?validCardTypes[0].toLowerCase():false;}
function gformToggleCreditCard(){if(jQuery("#gform_payment_method_creditcard").is(":checked"))
jQuery(".gform_card_fields_container").slideDown();else
jQuery(".gform_card_fields_container").slideUp();}
function gformInitChosenFields(fieldList,noResultsText){return jQuery(fieldList).each(function(){var element=jQuery(this);if(element.is(":visible")&&element.siblings(".chzn-container").length==0){var options=gform.applyFilters('gform_chosen_options',{no_results_text:noResultsText},element);element.chosen(options);}});}
function gformInitCurrencyFormatFields(fieldList){jQuery(fieldList).each(function(){var $this=jQuery(this);$this.val(gformFormatMoney(jQuery(this).val()));}).change(function(event){jQuery(this).val(gformFormatMoney(jQuery(this).val()));});}
var GFCalc=function(formId,formulaFields){this.patt=/{[^{]*?:(\d+(\.\d+)?)(:(.*?))?}/i;this.exprPatt=/^[0-9 -/*\(\)]+$/i;this.isCalculating={};this.init=function(formId,formulaFields){var calc=this;jQuery(document).bind("gform_post_conditional_logic",function(){for(var i=0;i<formulaFields.length;i++){var formulaField=jQuery.extend({},formulaFields[i]);calc.runCalc(formulaField,formId);}});for(var i=0;i<formulaFields.length;i++){var formulaField=jQuery.extend({},formulaFields[i]);this.runCalc(formulaField,formId);this.bindCalcEvents(formulaField,formId);}}
this.runCalc=function(formulaField,formId){var calcObj=this,field=jQuery('#field_'+formId+'_'+formulaField.field_id),formulaInput=jQuery('#input_'+formId+'_'+formulaField.field_id),previous_val=formulaInput.val(),expr=calcObj.replaceFieldTags(formId,formulaField.formula,formulaField).replace(/(\r\n|\n|\r)/gm,""),result='';if(calcObj.exprPatt.test(expr)){try{result=eval(expr);}catch(e){}}
if(!isFinite(result))
result=0;if(window["gform_calculation_result"]){result=window["gform_calculation_result"](result,formulaField,formId,calcObj);if(window.console)
console.log('"gform_calculation_result" function is deprecated since version 1.8! Use "gform_calculation_result" JS hook instead.');}
result=gform.applyFilters('gform_calculation_result',result,formulaField,formId,calcObj);var formattedResult=gform.applyFilters('gform_calculation_format_result',false,result,formulaField,formId,calcObj);var numberFormat=gf_global.number_formats[formId][formulaField.field_id];if(formattedResult!==false){result=formattedResult;}
else if(field.hasClass('gfield_price')||numberFormat=="currency"){result=gformFormatMoney(result?result:0);}
else{var decimalSeparator=".";var thousandSeparator=",";if(numberFormat=="decimal_comma"){decimalSeparator=",";thousandSeparator=".";}
result=gformFormatNumber(result,!gformIsNumber(formulaField.rounding)?-1:formulaField.rounding,decimalSeparator,thousandSeparator);}
if(result==previous_val)
return;if(field.hasClass('gfield_price')){formulaInput.text(result);jQuery('#ginput_base_price_'+formId+'_'+formulaField.field_id).val(result).trigger('change');gformCalculateTotalPrice(formId);}else{formulaInput.val(result).trigger('change');}}
this.bindCalcEvents=function(formulaField,formId){var calcObj=this;var formulaFieldId=formulaField.field_id;var matches=getMatchGroups(formulaField.formula,this.patt);calcObj.isCalculating[formulaFieldId]=false;for(var i in matches){if(!matches.hasOwnProperty(i))
continue;var inputId=matches[i][1];var fieldId=parseInt(inputId);var input=jQuery('#field_'+formId+'_'+fieldId).find('input[name="input_'+inputId+'"], select[name="input_'+inputId+'"]');if(input.prop('type')=='checkbox'||input.prop('type')=='radio'){jQuery(input).click(function(){calcObj.bindCalcEvent(inputId,formulaField,formId,0);});}else
if(input.is('select')||input.prop('type')=='hidden'){jQuery(input).change(function(){calcObj.bindCalcEvent(inputId,formulaField,formId,0);});}else{jQuery(input).keydown(function(){calcObj.bindCalcEvent(inputId,formulaField,formId);}).change(function(){calcObj.bindCalcEvent(inputId,formulaField,formId,0);});}}}
this.bindCalcEvent=function(inputId,formulaField,formId,delay){var calcObj=this;var formulaFieldId=formulaField.field_id;delay=delay==undefined?345:delay;if(calcObj.isCalculating[formulaFieldId][inputId])
clearTimeout(calcObj.isCalculating[formulaFieldId][inputId]);calcObj.isCalculating[formulaFieldId][inputId]=window.setTimeout(function(){calcObj.runCalc(formulaField,formId);},delay);}
this.replaceFieldTags=function(formId,expr,formulaField){var matches=getMatchGroups(expr,this.patt);var origExpr=expr;for(i in matches){if(!matches.hasOwnProperty(i))
continue;var inputId=matches[i][1];var fieldId=parseInt(inputId);var columnId=matches[i][3];var value=0;var input=jQuery('#field_'+formId+'_'+fieldId).find('input[name="input_'+inputId+'"], select[name="input_'+inputId+'"]');if(input.length>1||input.prop('type')=='checkbox')
input=input.filter(':checked');var isVisible=window['gf_check_field_rule']?gf_check_field_rule(formId,fieldId,true,'')=='show':true;if(input.length>0&&isVisible){var val=input.val();val=val.split('|');if(val.length>1){value=val[1];}else{value=input.val();}}
var numberFormat=gf_global.number_formats[formId][fieldId];if(!numberFormat)
numberFormat=gf_global.number_formats[formId][formulaField.field_id];var decimalSeparator=gformGetDecimalSeparator(numberFormat);value=gformCleanNumber(value,'','',decimalSeparator);if(!value)
value=0;expr=expr.replace(matches[i][0],value);}
return expr;}
this.init(formId,formulaFields);}
function gformFormatNumber(number,rounding,decimalSeparator,thousandSeparator){if(typeof decimalSeparator=="undefined"){if(window['gf_global']){var currency=new Currency(gf_global.gf_currency_config);decimalSeparator=currency.currency["decimal_separator"];}
else{decimalSeparator=".";}}
if(typeof thousandSeparator=="undefined"){if(window['gf_global']){var currency=new Currency(gf_global.gf_currency_config);thousandSeparator=currency.currency["thousand_separator"];}
else{thousandSeparator=",";}}
var currency=new Currency();return currency.numberFormat(number,rounding,decimalSeparator,thousandSeparator,false)}
function gformToNumber(text){var currency=new Currency(gf_global.gf_currency_config);return currency.toNumber(text);}
function getMatchGroups(expr,patt){var matches=new Array();while(patt.test(expr)){var i=matches.length;matches[i]=patt.exec(expr)
expr=expr.replace(''+matches[i][0],'');}
return matches;}
var gform={hooks:{action:{},filter:{}},addAction:function(action,callable,priority,tag){gform.addHook('action',action,callable,priority,tag);},addFilter:function(action,callable,priority,tag){gform.addHook('filter',action,callable,priority,tag);},doAction:function(action){gform.doHook('action',action,arguments);},applyFilters:function(action){return gform.doHook('filter',action,arguments);},removeAction:function(action,tag){gform.removeHook('action',action,tag);},removeFilter:function(action,priority,tag){gform.removeHook('filter',action,priority,tag);},addHook:function(hookType,action,callable,priority,tag){if(undefined==gform.hooks[hookType][action]){gform.hooks[hookType][action]=[];}
var hooks=gform.hooks[hookType][action];if(undefined==tag){tag=action+'_'+hooks.length;}
gform.hooks[hookType][action].push({tag:tag,callable:callable,priority:priority});},doHook:function(hookType,action,args){args=Array.prototype.slice.call(args,1);if(undefined!=gform.hooks[hookType][action]){var hooks=gform.hooks[hookType][action],hook;hooks.sort(function(a,b){return a["priority"]-b["priority"]});for(var i=0;i<hooks.length;i++){hook=hooks[i].callable;if(typeof hook!='function')
hook=window[hook];if('action'==hookType){hook.apply(null,args);}else{args[0]=hook.apply(null,args);}}}
if('filter'==hookType){return args[0];}},removeHook:function(hookType,action,priority,tag){if(undefined!=gform.hooks[hookType][action]){var hooks=gform.hooks[hookType][action];for(var i=hooks.length-1;i>=0;i--){if((undefined==tag||tag==hooks[i].tag)&&(undefined==priority||priority==hooks[i].priority)){hooks.splice(i,1);}}}}};(function(gfMultiFileUploader,$){gfMultiFileUploader.uploaders={};var strings=typeof gform_gravityforms!='undefined'?gform_gravityforms.strings:{};var imagesUrl=typeof gform_gravityforms!='undefined'?gform_gravityforms.vars.images_url:"";$(document).ready(function(){if((typeof adminpage!=='undefined'&&adminpage==='toplevel_page_gf_edit_forms')||typeof plupload=='undefined'){$(".gform_button_select_files").prop("disabled",true);}else if(typeof adminpage!=='undefined'){$(".gform_fileupload_multifile").each(function(){setup(this);});}else{$(document).bind('gform_post_render',function(e,formID){$("form#gform_"+formID+" .gform_fileupload_multifile").each(function(){setup(this);});var $form=$("form#gform_"+formID);if($form.length>0){$form.submit(function(){var pendingUploads=false;$.each(gfMultiFileUploader.uploaders,function(i,uploader){if(uploader.total.queued>0){pendingUploads=true;return false;}});if(pendingUploads){alert(strings.currently_uploading);window["gf_submitting_"+formID]=false;return false;}});}});$(document).bind("gform_post_conditional_logic",function(e,formID,fields,isInit){if(!isInit){$.each(gfMultiFileUploader.uploaders,function(i,uploader){uploader.refresh();});}});}});function setup(uploadElement){var settings=$(uploadElement).data('settings');var uploader=new plupload.Uploader(settings);formID=uploader.settings.multipart_params.form_id;gfMultiFileUploader.uploaders[settings.container]=uploader;var formID;var uniqueID;uploader.bind('Init',function(up,params){if(!up.features.dragdrop)
$(".gform_drop_instructions").hide();var fieldID=up.settings.multipart_params.field_id;var maxFiles=parseInt(up.settings.gf_vars.max_files);var initFileCount=countFiles(fieldID);if(maxFiles>0&&initFileCount>=maxFiles){gfMultiFileUploader.toggleDisabled(up.settings,true);}});gfMultiFileUploader.toggleDisabled=function(settings,disabled){var button=typeof settings.browse_button=="string"?$("#"+settings.browse_button):$(settings.browse_button);button.prop("disabled",disabled);}
function addMessage(messagesID,message){$("#"+messagesID).prepend("<li>"+message+"</li>");}
uploader.init();uploader.bind('FilesAdded',function(up,files){var max=parseInt(up.settings.gf_vars.max_files),fieldID=up.settings.multipart_params.field_id,totalCount=countFiles(fieldID),disallowed=up.settings.gf_vars.disallowed_extensions,extension;if(max>0&&totalCount>=max){$.each(files,function(i,file){up.removeFile(file);return;})
return;}
$.each(files,function(i,file){extension=file.name.split('.').pop();if($.inArray(extension,disallowed)>-1){addMessage(up.settings.gf_vars.message_id,file.name+" - "+strings.illegal_extension)
up.removeFile(file);return;}
if((file.status==plupload.FAILED)||(max>0&&totalCount>=max)){up.removeFile(file);return;}
var size=typeof file.size!=='undefined'?plupload.formatSize(file.size):strings.in_progress;var status='<div id="'
+file.id
+'" class="ginput_preview">'
+file.name
+' ('+size+') <b></b> '
+'<a href="javascript:void(0)" title="'+strings.cancel_upload+'" onclick=\'$this=jQuery(this); var uploader = gfMultiFileUploader.uploaders.'+up.settings.container+';uploader.stop();uploader.removeFile(uploader.getFile("'+file.id+'"));$this.after("'+strings.cancelled+'"); uploader.start();$this.remove();\'>'+strings.cancel+'</a>'
+'</div>';$('#'+up.settings.filelist).prepend(status);totalCount++;});up.refresh();var formElementID="form#gform_"+formID;var uidElementID="input:hidden[name='gform_unique_id']";var uidSelector=formElementID+" "+uidElementID;var $uid=$(uidSelector);if($uid.length==0){$uid=$(uidElementID);}
uniqueID=$uid.val();if(''===uniqueID){uniqueID=generateUniqueID();$uid.val(uniqueID);}
if(max>0&&totalCount>=max){addMessage(up.settings.gf_vars.message_id,strings.max_reached)
gfMultiFileUploader.toggleDisabled(up.settings,true);}
up.settings.multipart_params.gform_unique_id=uniqueID;up.start();});uploader.bind('UploadProgress',function(up,file){var html=file.percent+"%";$('#'+file.id+" b").html(html);});uploader.bind('Error',function(up,err){if(err.code===plupload.FILE_EXTENSION_ERROR){var extensions=typeof up.settings.filters.mime_types!='undefined'?up.settings.filters.mime_types[0].extensions:up.settings.filters[0].extensions;addMessage(up.settings.gf_vars.message_id,err.file.name+" - "+strings.invalid_file_extension+" "+extensions);}else if(err.code===plupload.FILE_SIZE_ERROR){addMessage(up.settings.gf_vars.message_id,err.file.name+" - "+strings.file_exceeds_limit);}else{var m="<li>Error: "+err.code+", Message: "+err.message+
(err.file?", File: "+err.file.name:"")+"</li>";$("#"+up.settings.gf_vars.message_id).prepend(m);}
up.removeFile(err.file);up.refresh();});uploader.bind('FileUploaded',function(up,file,result){var response=$.secureEvalJSON(result.response);if(response.status=="error"){$('#'+up.settings.filelist).prepend(response.error.message);return;}
var html='<strong>'+file.name+'</strong>';var formId=up.settings.multipart_params.form_id;var fieldId=up.settings.multipart_params.field_id;html="<img "
+"class='gform_delete' "
+"src='"+imagesUrl+"/delete.png' "
+"onclick='gformDeleteUploadedFile("+formId+","+fieldId+", this);' "
+"alt='"+strings.delete_file+"' "
+"title='"+strings.delete_file
+"' /> "
+html;$('#'+file.id).html(html);var fieldID=up.settings.multipart_params["field_id"];if(file.percent==100){if(response.status&&response.status=='ok'){addFile(fieldID,response.data);}else{addMessage(up.settings.gf_vars.message_id,strings.unknown_error);}}});function getAllFiles(){var selector='#gform_uploaded_files_'+formID,$uploadedFiles=$(selector),files;files=$uploadedFiles.val();files=''===files?{}:$.parseJSON(files);return files;}
function getFiles(fieldID){var allFiles=getAllFiles();var inputName=getInputName(fieldID);if(typeof allFiles[inputName]=='undefined')
allFiles[inputName]=[];return allFiles[inputName];}
function countFiles(fieldID){var files=getFiles(fieldID);return files.length;}
function addFile(fieldID,fileInfo){var files=getFiles(fieldID);files.unshift(fileInfo);setUploadedFiles(fieldID,files);}
function setUploadedFiles(fieldID,files){var allFiles=getAllFiles();var $uploadedFiles=$('#gform_uploaded_files_'+formID);var inputName=getInputName(fieldID);allFiles[inputName]=files;$uploadedFiles.val($.toJSON(allFiles));}
function getInputName(fieldID){return"input_"+fieldID;}
$("#"+settings.drop_element).on({"dragenter":ignoreDrag,"dragover":ignoreDrag});function ignoreDrag(e){e.preventDefault();}}
function generateUniqueID(){return'xxxxxxxx'.replace(/[xy]/g,function(c){var r=Math.random()*16|0,v=c=='x'?r:r&0x3|0x8;return v.toString(16);});}}(window.gfMultiFileUploader=window.gfMultiFileUploader||{},jQuery));function gformInitSpinner(formId,spinnerUrl){if(typeof spinnerUrl=='undefined'||!spinnerUrl)
spinnerUrl=gform.applyFilters("gform_spinner_url",gf_global.spinnerUrl,formId);jQuery('#gform_'+formId).submit(function(){if(jQuery('#gform_ajax_spinner_'.formId).length==0){jQuery('#gform_submit_button_'+formId+', #gform_wrapper_'+formId+' .gform_next_button, #gform_wrapper_'+formId+' .gform_image_button').after('<img id="gform_ajax_spinner_'+formId+'"  class="gform_ajax_spinner" src="'+spinnerUrl+'" alt="" />');}});}