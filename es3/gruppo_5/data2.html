<!DOCTYPE html>
<html lang="en">

<head>

	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="">
	<meta name="author" content="Marianna Caserta, Francesca Casnati, Chiara Cingottini, Giulia Sonzogni, Ilaria Tedoldi">

	<title>In-Depth Analysis 2</title>

	<link rel="icon" type="image/x-icon" href="img/fav.png" />

	<!-- Bootstrap Core CSS -->
	<link href="css/bootstrap.min.css" rel="stylesheet">

	<!-- Custom CSS -->
	<link href="css/style-scroll.css" rel="stylesheet">

	<!-- Font Awesome -->
	<link href="font-awesome/css/font-awesome.min.css" rel="stylesheet" >

	<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
	<!--JS for tip-->
	<script src="http://labratrevenge.com/d3-tip/javascripts/d3.tip.v0.6.3.js"></script>
	

</head>
<body>

<!-- Back button 
	<div class="back">
		<a href="index.html#9thPage" class="btn btn-circle">
			<i class="fa fa-angle-left"></i>
		</a>
	</div>-->


<div class="container">

	<a href="./index.html#9thPage"><i class="fa fa-arrow-circle-left"></i>Back to website</a><br><br><br>

	<div class="row">
			<div class="col-md-4 col-sm-12">
				<h5>Keywords appearing when NSA is mentioned</h5>
			</div>
	
			<div class="col-md-4 col-sm-6">
				<p>Each bubble corresponds to a keyword. The size depicts the frequency of keywords appearance in each speech in which NSA is mentioned. The speech is composed by the sentence in which NSA is named and the two sentences before and after.</p>
			</div>
			<div class="col-md-4 col-sm-6">
				<p>The bubble chart highlights the importance of the word "Security" used instead of the word "Surveillance".</p>
				<div class="about-data">
				<br><i class="fa fa-cog"></i><p>DATA EXTRACTED FROM: <a href="http://www.subzin.com" target="_blank">Subzin</a>.<br> Total speeches analysed: 1075</p>
				</div>
			</div>
		</div>
	<br>

	<!-- Legenda 
	<div class="row">
		<div class="col-md-3 col-md-offset-0 col-sm-5 col-sm-offset-1">
				<br><br>
				<p>TOTAL SPEECHES ANALYSED: 1075</p>
		</div>
		<div class="col-md-3 col-sm-5 ">
				<br><br>
				<p>TOTAL NSA: 1075</p>
		</div>
	</div>-->

	<!-- Viz1 -->
	<div class="viz-area">
		<br><br>
	<div class="row">
		<div class="col-md-4 col-sm-12">
			<p>NSA + SECURITY = 62 times</p>
			<br>
			<div class="bubble-single2"><p>Security</p></div>
	
			<br><br><br><br>

			<p>NSA + SURVEILLANCE = 23 times</p>
			<br>
			<div class="bubble-single1"><p>Surv</p></div>
		</div>
		<div class="col-md-8 col-sm-12">
			<p>NSA + OTHER KEYWORDS</p>
			<div class="viz1">	
			</div>
		</div>
	</div> 
	</div><!-- End of Visualization -->





    <br><br>
	<!-- Spiegazione 2 -->
		
		
		<br><br>
		<hr><br><br>

		<div class="row">
			<div class="col-md-4 col-md-offset-0 col-sm-10 col-sm-offset-1">
				<h5>Visual anlysis of the context in which the NSA is mentioned</h5>
			</div>
		
			<div class="col-md-4 col-md-offset-0 col-sm-5 col-sm-offset-1">
				<p>This section aims to rate the appearance frequency of NSA as a security agency rather than a surveillance organization. Clips from 10 episodes containing a NSA quote were selected among TV series in which Security Agency appears more frequently.</p>
			</div>
			<div class="col-md-4 col-sm-5">
				<p>List of the episodes analysed: Day 2: 8.00 a.m.-9 a.m. from <i>24</i>, Chuck versus the Helicopter from <i>Chuck</i>, Jerry 2.0 from <i>Jake 2.0</i>, Endgame from <i>NCIS: Los Angeles</i>, Finders Keepers from <i>Numb3rs</i>, No good deed from <i>Person of Interest</i>, Transition from <i>The West Wing</i>, Monsters and men from <i>NCIS: Naval Criminal Investigative Service</i>, Second double from <i>Alias</i>, Hard out from <i>Burn Notice</i>.</p>
			</div>
			
	</div>
		
		<!-- Button viz2 -->
		<div class="row">
			<div class="col-md-3 col-md-offset-0 col-sm-4 col-sm-offset-0">
				<div class="button-viz">
				  <br><br>
				  <button class="btn btn-default" id="btn-act" onclick="level1()" type="submit">NSA activity</button>
				  <button class="btn btn-default" id="btn-clip" onclick="notl1()" type="submit">Clips</button>
				</div>
			</div>
			<div class="col-md-2 col-sm-3">
				<br><br>
				<p>TOTAL EPISODES: 10</p>
			</div>
			<div class="col-md-2 col-sm-3">
				<br><br>
				<p>TOTAL CLIPS: 66</p>
			</div>
			<div class="col-md-2 col-md-offset-0 col-sm-2 col-sm-offset-0">
				<br><br>
				<a href="https://vimeo.com/115894152" target="_blank"><i class="fa fa-arrow-circle-right"></i>Watch Video</a>
			</div>
		</div>

</div><!-- End of container -->

<div class="container-fluid">
	<!-- viz2 -->
	<div class="row">
		<div class="col-md-12 col-md-offset-0 ">
			<div class="viz2">
			<?xml version="1.0" encoding="utf-8"?>
			<!-- Generator: Adobe Illustrator 17.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
			<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
			<svg id="news_svg2" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
				 viewBox="0 0 1280 550" enable-background="new 0 0 1280 580" xml:space="preserve" preserveAspectRatio="xMinYMin meet">

			<image id="photo" visibility="hidden" xlink:href="img/clip.png" x="0" y="0" height="553px" width="1280px"/>

			<g id="l1">
				<rect x="115" y="44.6" display="inline" fill="#1ca58a" width="18" height="18"/>
				<rect x="115" y="67.6" display="inline" fill="#dd002a" width="18" height="18"/>
				<rect x="138.7" y="49.9" display="inline" fill="none" width="45.7" height="10.3"/>
				
					<text transform="matrix(1 0 0 1 138.6709 56.7536)" display="inline" fill="#FFFFFF" font-family= "'Lekton', sans-serif" font-weight="400" font-size="14">Security</text>
				<rect x="139.3" y="83.9" display="inline" fill="none" width="70.3" height="8.7"/>
				
					<text transform="matrix(1 0 0 1 139.3321 80.7518)" display="inline" fill="#FFFFFF" font-family= "'Lekton', sans-serif" font-weight="400" font-size="14">Surveillance</text>

				<rect x="114" y="125.6" display="inline" fill="#1ca58a" width="87" height="47"/>
				<rect x="114" y="183.6" display="inline" fill="#1ca58a" width="87" height="47"/>
				<rect x="114" y="242.6" display="inline" fill="#1ca58a" width="87" height="46"/>
				<rect x="114" y="299.6" display="inline" fill="#dd002a" width="87" height="47"/>
				<rect x="114" y="358.6" display="inline" fill="#1ca58a" width="87" height="47"/>
				<rect x="114" y="416.6" display="inline" fill="#1ca58a" width="87" height="47"/>
				<rect x="211" y="125.6" display="inline" fill="#1ca58a" width="87" height="47"/>
				<rect x="211" y="183.6" display="inline" fill="#1ca58a" width="87" height="47"/>
				<rect x="211" y="242.6" display="inline" fill="#1ca58a" width="87" height="46"/>
				<rect x="211" y="299.6" display="inline" fill="#1ca58a" width="87" height="47"/>
				<rect x="211" y="358.6" display="inline" fill="#1ca58a" width="87" height="47"/>
				<rect x="211" y="416.6" display="inline" fill="#dd002a" width="87" height="47"/>
				<rect x="308" y="125.6" display="inline" fill="#1ca58a" width="87" height="47"/>
				<rect x="308" y="183.6" display="inline" fill="#1ca58a" width="87" height="47"/>
				<rect x="308" y="242.6" display="inline" fill="#1ca58a" width="87" height="46"/>
				<rect x="308" y="299.6" display="inline" fill="#1ca58a" width="87" height="47"/>
				<rect x="308" y="358.6" display="inline" fill="#1ca58a" width="87" height="47"/>
				<rect x="308" y="416.6" display="inline" fill="#1ca58a" width="87" height="47"/>
				<rect x="405" y="125.6" display="inline" fill="#1ca58a" width="87" height="47"/>
				<rect x="405" y="183.6" display="inline" fill="#dd002a" width="87" height="47"/>
				<rect x="405" y="242.6" display="inline" fill="#1ca58a" width="87" height="46"/>
				<rect x="405" y="299.6" display="inline" fill="#1ca58a" width="87" height="47"/>
				<rect x="405" y="358.6" display="inline" fill="#dd002a" width="87" height="47"/>
				<rect x="405" y="416.6" display="inline" fill="#dd002a" width="87" height="47"/>
				<rect x="502" y="125.6" display="inline" fill="#1ca58a" width="87" height="47"/>
				<rect x="502" y="183.6" display="inline" fill="#1ca58a" width="87" height="47"/>
				<rect x="502" y="242.6" display="inline" fill="#dd002a" width="87" height="46"/>
				<rect x="502" y="299.6" display="inline" fill="#1ca58a" width="87" height="47"/>
				<rect x="502" y="358.6" display="inline" fill="#1ca58a" width="87" height="47"/>
				<rect x="502" y="416.6" display="inline" fill="#dd002a" width="87" height="47"/>
				<rect x="599" y="125.6" display="inline" fill="#1ca58a" width="87" height="47"/>
				<rect x="599" y="183.6" display="inline" fill="#1ca58a" width="87" height="47"/>
				<rect x="599" y="242.6" display="inline" fill="#dd002a" width="87" height="46"/>
				<rect x="599" y="299.6" display="inline" fill="#1ca58a" width="87" height="47"/>
				<rect x="599" y="358.6" display="inline" fill="#1ca58a" width="87" height="47"/>
				<rect x="599" y="416.6" display="inline" fill="#dd002a" width="87" height="47"/>
				<rect x="696" y="125.6" display="inline" fill="#1ca58a" width="87" height="47"/>
				<rect x="696" y="183.6" display="inline" fill="#1ca58a" width="87" height="47"/>
				<rect x="696" y="242.6" display="inline" fill="#1ca58a" width="87" height="46"/>
				<rect x="696" y="299.6" display="inline" fill="#1ca58a" width="87" height="47"/>
				<rect x="696" y="358.6" display="inline" fill="#1ca58a" width="87" height="47"/>
				<rect x="696" y="416.6" display="inline" fill="#1ca58a" width="87" height="47"/>
				<rect x="793" y="125.6" display="inline" fill="#dd002a" width="87" height="47"/>
				<rect x="793" y="183.6" display="inline" fill="#1ca58a" width="87" height="47"/>
				<rect x="793" y="242.6" display="inline" fill="#dd002a" width="87" height="46"/>
				<rect x="793" y="299.6" display="inline" fill="#1ca58a" width="87" height="47"/>
				<rect x="793" y="358.6" display="inline" fill="#dd002a" width="87" height="47"/>
				<rect x="793" y="416.6" display="inline" fill="#1ca58a" width="87" height="47"/>
				<rect x="890" y="125.6" display="inline" fill="#1ca58a" width="87" height="47"/>
				<rect x="890" y="183.6" display="inline" fill="#1ca58a" width="87" height="47"/>
				<rect x="890" y="242.6" display="inline" fill="#1ca58a" width="87" height="46"/>
				<rect x="890" y="299.6" display="inline" fill="#dd002a" width="87" height="47"/>
				<rect x="890" y="358.6" display="inline" fill="#dd002a" width="87" height="47"/>
				<rect x="890" y="416.6" display="inline" fill="#1ca58a" width="87" height="47"/>
				<rect x="987" y="125.6" display="inline" fill="#1ca58a" width="87" height="47"/>
				<rect x="987" y="183.6" display="inline" fill="#1ca58a" width="87" height="47"/>
				<rect x="987" y="242.6" display="inline" fill="#dd002a" width="87" height="46"/>
				<rect x="987" y="299.6" display="inline" fill="#dd002a" width="87" height="47"/>
				<rect x="987" y="358.6" display="inline" fill="#dd002a" width="87" height="47"/>
				<rect x="987" y="416.6" display="inline" fill="#1ca58a" width="87" height="47"/>
				<rect x="1084" y="125.6" display="inline" fill="#1ca58a" width="87" height="47"/>
				<rect x="1084" y="183.6" display="inline" fill="#1ca58a" width="87" height="47"/>
				<rect x="1084" y="242.6" display="inline" fill="#1ca58a" width="87" height="46"/>
				<rect x="1084" y="299.6" display="inline" fill="#1ca58a" width="87" height="47"/>
				<rect x="1084" y="358.6" display="inline" fill="#dd002a" width="87" height="47"/>
				<rect x="1084" y="416.6" display="inline" fill="#1ca58a" width="87" height="47"/>
			</g>

			</svg>
			</div>

		</div>
	</div>
</div><!-- /container-fluid -->
	

<div class="container">
	<a href="./index.html#9thPage"><i class="fa fa-arrow-circle-left"></i>Back to website</a><br><br><br>
</div><!-- /container -->


<!-- jQuery -->
<script src="js/jquery.js"></script>

<script>
	var //margin = {top: 200}; 
    width = screen.width,
    height = 600,
    format = d3.format(",d"),
    color = d3.scale.ordinal()
        .range(["#ccc"]); //"#6D7573", "#1ca58a", "#dd002a",  

	width = $(".viz1").width()
	console.log(width)

	var bubble = d3.layout.pack()
	    .sort(null)
	    .size([width, height])
	    .padding(10);

	var svg = d3.select(".viz1").append("svg") //seleziona il div dove deve andare
	    .attr("width", width)
	    .attr("height", height)
	    .attr("class", "bubble");

	// add the tooltip area to the webpage
	var tip = d3.tip()
	  .attr('class', 'd3-tip')
	  .offset([-7, 0])
	  .html(function(d) {
	    return d.className +  ": " + d.value;
	  })

	svg.call(tip);

	d3.json("data/data2a.json", function(error, root) {
	  var node = svg.selectAll(".node")
	      .data(bubble.nodes(classes(root))
	      .filter(function(d) { return !d.children; }))
	      .enter().append("g")
	      .attr("class", "node")
	      .attr("transform", function(d) { return "translate(" + d.x + "," + d.y + ")"; });

	//label onMouseOver
	  node.append("circle")
	      .on('mouseover', tip.show)
	      .on('mouseout', tip.hide)
	      .attr("r", function(d) { return d.r; })
	      .style("fill", function(d) { return color(d.packageName); });

	//text into bubble
	  node.append("text")
	      .attr("dy", ".3em")
	      .style("text-anchor", "middle")
	      .style("fill", "#000")
	      .style("font-size", "10px")
	      .style("font-weight", "400")
	      .text(function(d) { return d.className.substring(0, d.r / 3); });
	});


	// Returns a flattened hierarchy containing all leaf nodes under the root.
	function classes(root) {
	  var classes = [];

	  function recurse(name, node) {
	    if (node.children) node.children.forEach(function(child) { recurse(node.name, child); });
	    else classes.push({packageName: name, className: node.name, value: node.size});
	  }

	  recurse(null, root);
	  return {children: classes};
	}

	d3.select(self.frameElement).style("height", diameter + "px");





	function level1() {
        document.getElementById("l1").style.visibility = "visible";
        document.getElementById("photo").style.visibility = "hidden";
        document.getElementById("btn-clip").style.opacity = "0.7";
        document.getElementById("btn-act").style.opacity = "1";
      }

      function notl1() {
      	document.getElementById("l1").style.visibility = "hidden";
        document.getElementById("photo").style.visibility = "visible";
        document.getElementById("btn-clip").style.opacity = "1";
        document.getElementById("btn-act").style.opacity = "0.7";
      }

</script>

<!-- Bootstrap Core JavaScript -->
<script src="js/bootstrap.min.js"></script>


</body>
</html>